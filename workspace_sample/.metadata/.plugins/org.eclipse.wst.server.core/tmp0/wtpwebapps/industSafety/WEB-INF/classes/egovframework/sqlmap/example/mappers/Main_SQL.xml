<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="egovframework.com.main.service.impl.MainMapper">

	<resultMap id="main" type="egovframework.com.main.service.MainVO">
		<result property="co2" column="co2"/>
		<result property="temp" column="temp"/>
		<result property="humidity" column="humidity"/>
		<result property="heartRate" column="heartRate"/>
		<result property="activity" column="activity"/>
		<result property="dust" column="dust"/>
		<result property="harmfulGas" column="harmfulGas"/>
		<result property="updateDate" column="updateDate"/>
	</resultMap>

	<select id="selectMainList" parameterType="searchVO" resultType="egovMap">

			SELECT	CO2 as co2
				  , TEMP as temp
				  , HUMIDITY as humidity
				  , HEART_RATE as heartRate
				  , ACTIVITY as activity
				  , DUST as dust
				  , HARMFUL_GAS as harmfulGas
				  , DATE_FORMAT(UPDATE_DATE, '%Y.%m.%d %H:%i:%s') as updateDate
			FROM TB_REALTIME_DATA
			WHERE 1=1
			LIMIT #{recordCountPerPage} OFFSET #{firstIndex}
	</select>

	<select id="selectMainListTotCnt" parameterType="searchVO" resultType="int">

			SELECT COUNT(*) totcnt
			FROM TB_REALTIME_DATA
			WHERE 1=1			
	</select>

</mapper>